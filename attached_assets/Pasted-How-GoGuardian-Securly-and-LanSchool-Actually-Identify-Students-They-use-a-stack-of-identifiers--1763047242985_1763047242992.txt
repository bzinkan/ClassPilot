How GoGuardian, Securly, and LanSchool Actually Identify Students
They use a stack of identifiers, not just email.
They do NOT rely purely on Google email identity for monitoring because:
students switch devices


students share devices


athletes use loaner devices


Chromebooks get wiped


Chrome profile sync can lag


guest sessions break email-only logic


So the industry giants use this layering:

üß© LAYER 1: Device Identity (The backbone)
This is usually:
‚Ä¢ Device Serial Number (Chromebook‚Äôs built-in hardware ID)
‚Ä¢ Device ID (Chrome extension chrome.deviceAttributes.getDeviceSerialNumber)
‚Ä¢ Deployment OU (what OU the Chromebook sits in under Google Workspace)
This allows:
instant recognition


stable connection


consistent ‚Äúsessions‚Äù across tabs


live view + URL tracking that never ‚Äúfalls off‚Äù


Even if Chrome profile sync is delayed, the device is still constant.
‚û° GoGuardian + Securly both use serial number as the primary key.

üß© LAYER 2: Chrome User Identity
This supports:
tying the device activity back to a student


matching to rosters


filtering rules per grade/class


linking to Clever/Google Classroom


But it‚Äôs secondary.
If the student logs out, profile sync fails, or switches devices, device identity still catches them.

üß© LAYER 3: Server-issued token (JWT)
This is the part that makes everything fast and stable.
The extension fetches a server-issued studentToken once, and then every heartbeat includes:
deviceId
studentId
studentToken
serialNumber
timestamp
currentUrl

This avoids:
duplicate student entries


mismatch between extension + roster ID


‚Äúoffline for 59 years‚Äù bug


students disappearing after inactivity



üî• Why your system worked ‚Äúbetter‚Äù with device-based detection
Because you were accidentally replicating GoGuardian‚Äôs stability model.
Once you switched to:
deviceId


serial-like identifiers


cached local IDs


‚Ä¶the connection became smoother because the device stays constant even if the Chrome email changes state.

üü¶ So what should your monitoring system use?
The winning formula:
1. Device ID
Used to track sessions and live view.
2. Email
Used to map the user to the roster.
3. Server-issued studentToken (JWT)
Used for secure, stable tracking.
Together, this gives you:
no duplicates


multi-device support


no more offline/online flicker


fast URL/live view updates


correct class filtering


correct student assignment


This is exactly how the big companies do it.

‚≠ê RECOMMENDATION FOR YOUR BUILD (simple + strong)
Here‚Äôs the model that will make ClassPilot stable like GoGuardian:
Extension ‚Üí on startup
Gets device info:


chrome.deviceAttributes.getDeviceSerialNumber()


Local deviceId fallback


Gets Google email from Chrome profile.


Calls your backend /register-device:


{
  deviceId,
  serialNumber,
  email
}

Backend returns:
studentId (UUID)
studentToken (JWT)
schoolId
grade
name

Extension stores this (secure localStorage)
And uses it for:
heartbeats


live-view updates


URL tracking


open/close tab


lock/unlock


Flight Path



‚úîÔ∏è Final Answer
Yes ‚Äî your system worked better because all major monitoring systems rely primarily on the device, then the email identity, not the other way around.
What you observed is exactly how GoGuardian, Securly, and LanSchool maintain stability.
Your next step should be implementing a server-issued studentToken + device-first identification, and you‚Äôll be on par with the industry.

If you'd like, I can sketch the exact database schema + endpoints + extension code structure that GoGuardian uses under the hood.
You said:
does this work with students using multiple devices in a day? our chromebooks stay in the classroom and students log in and out of them
ChatGPT said:
Thought for 23s
Yes, this can absolutely work with kids using multiple shared Chromebooks in a day ‚Äî you just have to separate three things in your head:
Student identity ‚â† Device identity ‚â† Session identity
Right now you‚Äôre kind of trying to make ‚Äúemail OR device‚Äù do all three jobs, which is why it feels brittle.
Let‚Äôs wire it the way GoGuardian-style cart classrooms do it.

1. Your reality: cart / lab model
Chromebooks live in the classroom.


Period 1 logs in, logs out.


Period 2 logs in, logs out.


Same devices, new kids all day.


That means:
Devices are reused a lot


Students may touch multiple devices in a single day (came in late, got a loaner, moved rooms, etc.)


So the design has to allow:
One student ‚Üí many devices (over time)


One device ‚Üí many students (over the day)


But at any moment, a student should only appear on one device in the dashboard.



2. The hybrid model that works for shared carts
Here‚Äôs the pattern that works really well:
üßç Student identity (stable across the whole school)
Use email for this.
DB: students
id (UUID)


schoolId


email (unique per school)


name


grade


This never changes just because they switch Chromebook.

üíª Device identity (stable in the room)
Use Chromebook serial or a stable deviceId.
DB: devices
id (UUID)


schoolId


serialNumber (unique per school)


room (e.g., ‚Äú7B Science Cart‚Äù)


nickname (optional label)


This never changes just because a new kid logs in.

üîå Session identity (student + device + time)
This is where multiple devices per day are handled cleanly.
DB: student_sessions (or student_devices)
id


studentId


deviceId


startedAt


lastSeenAt


endedAt (nullable)


isActive (boolean)


Think of this as:
‚ÄúRight now, this student is using this device.‚Äù

3. What the extension does on a shared Chromebook
Every time a browser profile becomes active:
Extension starts / wakes up


Reads deviceId / serial number


Reads current user‚Äôs school email


Sends to backend:


POST /session/heartbeat
{
  "deviceId": "device-123",
  "serialNumber": "XYZ123ABC",
  "email": "student17@school.org",
  "url": "https://quizizz.com/game/123",
  "timestamp": 1731500000
}

Backend logic (cart-safe version):


// 1) Look up or create the student by email + school
const student = await findOrCreateStudentByEmail(schoolId, email);

// 2) Look up or create the device by serial + school
const device = await findOrCreateDeviceBySerial(schoolId, serialNumber);

// 3) Find the current active session for this student
let session = await findActiveSession(student.id);

// Case A: student already active on another device ‚Üí end that session
if (session && session.deviceId !== device.id) {
  await endSession(session.id); // set isActive=false, endedAt=now
  session = null;
}

// Case B: no active session ‚Üí start a new one on this device
if (!session) {
  session = await startSession(student.id, device.id);
}

// 4) Update lastSeenAt + URL
await updateSessionHeartbeat(session.id, { lastSeenAt: now, url });

Separate cleanup job (every minute or so):


Any session with lastSeenAt older than, say, 90 seconds ‚Üí mark isActive = false.


That handles:
Student switching devices ‚Üí old session closes, new one opens.


Different classes using same device throughout the day.


Kid uses 3 different Chromebooks in one day ‚Üí you still have one student with 3 session records (time-stamped).



4. What the teacher dashboard shows
When you render tiles:
Query all students in this class.


For each student, join their latest active session (if any).


Show:


If isActive = true ‚Üí ‚ÄúOnline on [Device Nickname]‚Äù


Else ‚Üí ‚ÄúOffline (last seen at 10:37 AM)‚Äù


This way:
Student is always 1 tile, even if they hopped devices.


That tile just ‚Äúmoves‚Äù between Chromebooks behind the scenes via student_sessions.



5. So‚Ä¶ does it work with multiple devices per day?
Yes. Cleanly, if you do it like this:
Email = who the kid is (stable identity)


Device = which Chromebook they‚Äôre on (stable hardware)


Session = which student is on which device right now


Your Chromebooks can stay in the classroom, students can log in/out all day, and:
No duplicate students


No ‚Äúoffline forever‚Äù bugs


Students can bounce between devices and your system follows them via email + new sessions


Admin can still see history per student and per device

